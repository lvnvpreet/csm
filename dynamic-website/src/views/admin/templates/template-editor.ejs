<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Editor</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <%- include('../../layouts/main.ejs') %>
    <div class="template-editor-container">
        <h1><%= template ? 'Edit Template' : 'New Template' %></h1>
        
        <form action="/admin/templates/save" method="POST">
            <% if (template) { %>
                <input type="hidden" name="templateId" value="<%= template.id %>">
            <% } %>

            <div class="form-group">
                <label for="name">Template Name:</label>
                <input type="text" id="name" name="name" value="<%= template?.name || '' %>" required>
            </div>

            <div class="form-group">
                <label for="html">HTML:</label>
                <textarea id="html" name="html" rows="10" required><%= template?.html || '' %></textarea>
            </div>

            <div class="form-group">
                <label for="css">CSS:</label>
                <textarea id="css" name="css" rows="10" required><%= template?.css || '' %></textarea>
            </div>

            <div class="form-group">
                <label for="js">JavaScript:</label>
                <textarea id="js" name="js" rows="10"><%= template?.js || '' %></textarea>
            </div>

            <div class="form-group">
                <label>
                    <input type="checkbox" name="isActive" value="true" 
                        <%= template?.isActive ? 'checked' : '' %>>
                    Active
                </label>
            </div>

            <button type="submit">Save Template</button>
        </form>
    </div>
    <script src="/js/template-editor.js"></script>
</body>
</html>