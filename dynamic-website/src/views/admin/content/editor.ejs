<%- include('../../layouts/main') %>

<div class="content-editor">
    <h1><%= content ? 'Edit Content' : 'New Content' %></h1>
    
    <form action="/admin/content/save" method="POST" class="editor-form">
        <% if (content) { %>
            <input type="hidden" name="contentId" value="<%= content.id %>">
        <% } %>

        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" 
                value="<%= content?.title || '' %>" required>
        </div>

        <div class="form-group">
            <label for="slug">URL Slug</label>
            <input type="text" id="slug" name="slug" 
                value="<%= content?.slug || '' %>" required>
        </div>

        <div class="form-group">
            <label for="template">Template</label>
            <select id="template" name="template" required>
                <option value="">Select a template</option>
                <option value="default" <%= content?.template === 'default' ? 'selected' : '' %>>
                    Default
                </option>
                <option value="blog" <%= content?.template === 'blog' ? 'selected' : '' %>>
                    Blog
                </option>
            </select>
        </div>

        <div class="form-group">
            <label for="body">Content</label>
            <textarea id="body" name="body" rows="10" required><%= content?.body || '' %></textarea>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">Save</button>
            <a href="/admin/content" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>